{"version":3,"sources":["./node_modules/@capacitor/camera/dist/esm/definitions.js","./node_modules/@capacitor/camera/dist/esm/index.js","./node_modules/@capacitor/filesystem/dist/esm/definitions.js","./node_modules/@capacitor/filesystem/dist/esm/index.js","./src/app/core/user/create/create-jalan/create-jalan.page.ts","./src/app/shared/services/jalan.service.ts","./src/app/shared/services/photo/photo.service.ts","./src/app/core/user/create/create-jalan/create-jalan.page.scss","./src/app/core/user/create/create-jalan/create-jalan.page.html"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oCAAoC;AAC9B;AACP;AACA;AACA;AACA,CAAC,0CAA0C;AACpC;AACP;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AAC7C,uC;;;;;;;;;;;;;;;;;;;;AC1BiD;AACjD,eAAe,+DAAc;AAC7B,eAAe,8JAAe;AAC9B,CAAC;AAC6B;AACZ;AAClB,iC;;;;;;;;;;;;;;;;;;ACNO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8BAA8B;AACxB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4BAA4B;AAC7B;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP,uC;;;;;;;;;;;;;;;;;;;;;AC5FiD;AACjD,mBAAmB,+DAAc;AACjC,eAAe,kKAAe;AAC9B,CAAC;AAC6B;AACR;AACtB,iC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNoE;AACpE,yDAAyD;AAMjC;AACiC;AACsB;AAEzC;AAG+B;IAOxD,eAAe,SAAf,eAAe;IAa1B,YACS,YAA0B,EACzB,WAAwB,EACxB,YAA0B,EAC1B,WAA8B,EAC9B,SAA0B;QAJ3B,iBAAY,GAAZ,YAAY,CAAc;QACzB,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAhBpC,eAAU,GAA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","file":"default-src_app_core_user_create_create-jalan_create-jalan_page_ts.js","sourcesContent":["export var CameraSource;\n(function (CameraSource) {\n    /**\n     * Prompts the user to select either the photo album or take a photo.\n     */\n    CameraSource[\"Prompt\"] = \"PROMPT\";\n    /**\n     * Take a new photo using the camera.\n     */\n    CameraSource[\"Camera\"] = \"CAMERA\";\n    /**\n     * Pick an existing photo fron the gallery or photo album.\n     */\n    CameraSource[\"Photos\"] = \"PHOTOS\";\n})(CameraSource || (CameraSource = {}));\nexport var CameraDirection;\n(function (CameraDirection) {\n    CameraDirection[\"Rear\"] = \"REAR\";\n    CameraDirection[\"Front\"] = \"FRONT\";\n})(CameraDirection || (CameraDirection = {}));\nexport var CameraResultType;\n(function (CameraResultType) {\n    CameraResultType[\"Uri\"] = \"uri\";\n    CameraResultType[\"Base64\"] = \"base64\";\n    CameraResultType[\"DataUrl\"] = \"dataUrl\";\n})(CameraResultType || (CameraResultType = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst Camera = registerPlugin('Camera', {\n    web: () => import('./web').then(m => new m.CameraWeb()),\n});\nexport * from './definitions';\nexport { Camera };\n//# sourceMappingURL=index.js.map","export var Directory;\n(function (Directory) {\n    /**\n     * The Documents directory\n     * On iOS it's the app's documents directory.\n     * Use this directory to store user-generated content.\n     * On Android it's the Public Documents folder, so it's accessible from other apps.\n     * It's not accesible on Android 10 unless the app enables legacy External Storage\n     * by adding `android:requestLegacyExternalStorage=\"true\"` in the `application` tag\n     * in the `AndroidManifest.xml`.\n     * It's not accesible on Android 11 or newer.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"Documents\"] = \"DOCUMENTS\";\n    /**\n     * The Data directory\n     * On iOS it will use the Documents directory\n     * On Android it's the directory holding application files.\n     * Files will be deleted when the application is uninstalled.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"Data\"] = \"DATA\";\n    /**\n     * The Cache directory\n     * Can be deleted in cases of low memory, so use this directory to write app-specific files\n     * that your app can re-create easily.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"Cache\"] = \"CACHE\";\n    /**\n     * The external directory\n     * On iOS it will use the Documents directory\n     * On Android it's the directory on the primary shared/external\n     * storage device where the application can place persistent files it owns.\n     * These files are internal to the applications, and not typically visible\n     * to the user as media.\n     * Files will be deleted when the application is uninstalled.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"External\"] = \"EXTERNAL\";\n    /**\n     * The external storage directory\n     * On iOS it will use the Documents directory\n     * On Android it's the primary shared/external storage directory.\n     * It's not accesible on Android 10 unless the app enables legacy External Storage\n     * by adding `android:requestLegacyExternalStorage=\"true\"` in the `application` tag\n     * in the `AndroidManifest.xml`.\n     * It's not accesible on Android 11 or newer.\n     *\n     * @since 1.0.0\n     */\n    Directory[\"ExternalStorage\"] = \"EXTERNAL_STORAGE\";\n})(Directory || (Directory = {}));\nexport var Encoding;\n(function (Encoding) {\n    /**\n     * Eight-bit UCS Transformation Format\n     *\n     * @since 1.0.0\n     */\n    Encoding[\"UTF8\"] = \"utf8\";\n    /**\n     * Seven-bit ASCII, a.k.a. ISO646-US, a.k.a. the Basic Latin block of the\n     * Unicode character set\n     * This encoding is only supported on Android.\n     *\n     * @since 1.0.0\n     */\n    Encoding[\"ASCII\"] = \"ascii\";\n    /**\n     * Sixteen-bit UCS Transformation Format, byte order identified by an\n     * optional byte-order mark\n     * This encoding is only supported on Android.\n     *\n     * @since 1.0.0\n     */\n    Encoding[\"UTF16\"] = \"utf16\";\n})(Encoding || (Encoding = {}));\n/**\n * @deprecated Use `Directory`.\n * @since 1.0.0\n */\nexport const FilesystemDirectory = Directory;\n/**\n * @deprecated Use `Encoding`.\n * @since 1.0.0\n */\nexport const FilesystemEncoding = Encoding;\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst Filesystem = registerPlugin('Filesystem', {\n    web: () => import('./web').then(m => new m.FilesystemWeb()),\n});\nexport * from './definitions';\nexport { Filesystem };\n//# sourceMappingURL=index.js.map","import { LoadingController, ModalController } from '@ionic/angular';\n/* eslint-disable @typescript-eslint/naming-convention */\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators,\n} from '@angular/forms';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { PhotoService } from '../../../../shared/services/photo/photo.service';\n\nimport { take } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\nimport { Jalan } from 'src/app/shared/model/jalan.model';\nimport { JalanService } from 'src/app/shared/services/jalan.service';\n\n@Component({\n  selector: 'app-create-jalan',\n  templateUrl: './create-jalan.page.html',\n  styleUrls: ['./create-jalan.page.scss'],\n})\nexport class CreateJalanPage implements OnInit {\n  @Input() jalan: Jalan;\n  isEditMode = false;\n  jalanForm: FormGroup;\n\n  map2: any;\n  address: string;\n\n  latitude: number;\n  longitude: number;\n  myMarker: any;\n  center: any;\n\n  constructor(\n    public photoService: PhotoService,\n    private formBuilder: FormBuilder,\n    private jalanService: JalanService,\n    private loadingCtrl: LoadingController,\n    private modalCtrl: ModalController\n  ) {}\n\n  ngOnInit() {\n    // await this.photoService.loadSaved();\n    this.initAddJalanForm();\n    console.log('jalan data', this.jalanForm.value);\n    if (this.jalan) {\n      this.isEditMode = true;\n      this.setFormValues();\n    }\n  }\n\n  initAddJalanForm() {\n    this.jalanForm = this.formBuilder.group({\n      name: new FormControl(null, [Validators.required]),\n      detail: new FormControl(null, [Validators.required]),\n      status: new FormControl(null, [Validators.required]),\n      start_date: new FormControl(null),\n      end_date: new FormControl(null),\n      response_party: new FormControl(null, [Validators.required]),\n      // alamat: new FormControl(null, [Validators.required]),\n      // daerah: new FormControl(null, [Validators.required]),\n      // negeri: new FormControl(null, [Validators.required]),\n      // poskod: new FormControl(null, [Validators.required]),\n      admin_id: new FormControl(null),\n    });\n  }\n\n  setFormValues() {\n    this.jalanForm.setValue({\n      name: this.jalan.name,\n      detail: this.jalan.detail,\n      status: this.jalan.status,\n      start_date: this.jalan.start_date,\n      end_date: this.jalan.end_date,\n      response_party: this.jalan.response_party,\n      // alamat: this.jalan.alamat,\n      // daerah: this.jalan.daerah,\n      // negeri: this.jalan.negeri,\n      // poskod: this.jalan.poskod,\n      admin_id: this.jalan.admin_id,\n    });\n  }\n\n  async submitJalan() {\n    const loading = await this.loadingCtrl.create({ message: 'Loading ...' });\n    loading.present();\n\n    let response: Observable<Jalan>;\n    console.log('JALAN :',this.jalanForm.value);\n    if (this.isEditMode) {\n      response = this.jalanService.updateJalan(\n        this.jalan.id,\n        this.jalanForm.value\n      );\n    } else {\n      response = this.jalanService.addJalan(this.jalanForm.value);\n    }\n    response.pipe(take(1)).subscribe((jalan) => {\n      console.log(jalan);\n      this.jalanForm.reset();\n      loading.dismiss();\n\n      if (this.isEditMode) {\n        this.closeModal(jalan);\n      }\n    });\n  }\n\n  closeModal(data = null) {\n    this.modalCtrl.dismiss(data);\n  }\n\n  addPhotoToGallery() {\n    this.photoService.addNewToGallery();\n  }\n}\n","import { Observable } from 'rxjs';\nimport { Injectable } from '@angular/core';\nimport { Jalan } from '../model/jalan.model';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({ providedIn: 'root' })\nexport class JalanService {\n  apiUrl = 'https://kkr-pothole-stg.prototype.com.my/api';\n\n  constructor(private http: HttpClient) {}\n\n  getJalans(): Observable<Jalan[]> {\n    return this.http.get<Jalan[]>(`${this.apiUrl}/jalan`);\n  }\n\n  addJalan(jalan: Jalan): Observable<Jalan> {\n    return this.http.post<Jalan>(`${this.apiUrl}/jalan/`, jalan);\n  }\n\n  updateJalan(aduanId: number, jalan: Jalan): Observable<Jalan> {\n    return this.http.put<Jalan>(`${this.apiUrl}/jalan/${aduanId}`, jalan);\n  }\n\n  deleteJalan(aduanId: number): Observable<Jalan> {\n    return this.http.delete<Jalan>(`${this.apiUrl}/jalan/${aduanId}`);\n  }\n}\n","/* eslint-disable @typescript-eslint/naming-convention */\n/* eslint-disable @typescript-eslint/no-inferrable-types */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/* eslint-disable @typescript-eslint/member-ordering */\nimport { Injectable } from '@angular/core';\nimport {\n  Camera,\n  CameraPhoto,\n  CameraResultType,\n  CameraSource,\n  Photo,\n} from '@capacitor/camera';\nimport { Capacitor } from '@capacitor/core';\nimport { Directory, Filesystem } from '@capacitor/filesystem';\nimport { Storage } from '@capacitor/storage';\nimport { Platform } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PhotoService {\n\n  public photos: UserPhoto[] = [];\n  private PHOTO_STORAGE: string = 'photos';\n  private platform: Platform;\n\n  constructor(platform: Platform) {\n    this.platform = platform;\n  }\n\n  public async addNewToGallery() {\n    // Take a photo\n    const capturedPhoto = await Camera.getPhoto({\n      resultType: CameraResultType.Uri,\n      source: CameraSource.Camera,\n      quality: 100,\n    });\n\n    this.photos.unshift({\n      filepath: 'soon...',\n      webviewPath: capturedPhoto.webPath\n    });\n\n    // // Save the picture and add it to photo collection\n    // const savedImageFile = await this.savePicture(capturedPhoto);\n    // this.photos.unshift(savedImageFile);\n\n    // Storage.set({\n    //   key: this.PHOTO_STORAGE,\n    //   value: JSON.stringify(this.photos),\n    // });\n  }\n\n  public async loadSaved() {\n    // Retrieve cached photo array data\n    const photoList = await Storage.get({ key: this.PHOTO_STORAGE });\n    this.photos = JSON.parse(photoList.value) || [];\n\n    // Easiest way to detect when running on the web:\n    // “when the platform is NOT hybrid, do this”\n    if (!this.platform.is('hybrid')) {\n      // Display the photo by reading into base64 format\n      for (const photo of this.photos) {\n        // Read each saved photo's data from the Filesystem\n        const readFile = await Filesystem.readFile({\n            path: photo.filepath,\n            directory: Directory.Data\n        });\n\n        // Web platform only: Load the photo as base64 data\n        photo.webviewPath = `data:image/jpeg;base64,${readFile.data}`;\n      }\n    }\n  }\n\n  private async readAsBase64(cameraPhoto: CameraPhoto) {\n    // \"hybrid\" will detect Cordova or Capacitor\n    if (this.platform.is('hybrid')) {\n      // Read the file into base64 format\n      const file = await Filesystem.readFile({\n        path: cameraPhoto.path\n      });\n\n      return file.data;\n    }\n    else {\n      // Fetch the photo, read as a blob, then convert to base64 format\n      const response = await fetch(cameraPhoto.webPath);\n      const blob = await response.blob();\n\n      return await this.convertBlobToBase64(blob) as string;\n    }\n  }\n\n  // Save picture to file on device\n  // private async savePicture(cameraPhoto: CameraPhoto) {\n  //   // Convert photo to base64 format, required by Filesystem API to save\n  //   const base64Data = await this.readAsBase64(cameraPhoto);\n\n  //   // Write the file to the data directory\n  //   const fileName = new Date().getTime() + '.jpeg';\n  //   const savedFile = await Filesystem.writeFile({\n  //     path: fileName,\n  //     data: base64Data,\n  //     directory: Directory.Data\n  //   });\n\n  //   if (this.platform.is('hybrid')) {\n  //     // Display the new image by rewriting the 'file://' path to HTTP\n  //     // Details: https://ionicframework.com/docs/building/webview#file-protocol\n  //     return {\n  //       filepath: savedFile.uri,\n  //       webviewPath: Capacitor.convertFileSrc(savedFile.uri),\n  //     };\n  //   }\n  //   else {\n  //     // Use webPath to display the new image instead of base64 since it's\n  //     // already loaded into memory\n  //     return {\n  //       filepath: fileName,\n  //       webviewPath: cameraPhoto.webPath\n  //     };\n  //   }\n  // }\n\n  convertBlobToBase64 = (blob: Blob) =>\n    new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onerror = reject;\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.readAsDataURL(blob);\n    });\n}\n\nexport interface UserPhoto {\n  filepath: string;\n  webviewPath: string;\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjcmVhdGUtamFsYW4ucGFnZS5zY3NzIn0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/dashboard\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{isEditMode ? 'Kemaskini':'Daftar'}} Jalan</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n\\n  <div id=\\\"container\\\">\\n    <form [formGroup]=\\\"jalanForm\\\">\\n      <ion-grid>\\n        <ion-row color=\\\"primary\\\" justify-content-center>\\n          <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n            <div padding>\\n\\n              <ion-item>\\n                <ion-label position=\\\"floating\\\">Nama Jalan</ion-label>\\n                <ion-input formControlName=\\\"name\\\" type=\\\"text\\\" placeholder=\\\"Nama Jalan\\\"></ion-input>\\n              </ion-item>\\n              <ion-item>\\n                <ion-label position=\\\"floating\\\">Keterangan Jalan</ion-label>\\n                <ion-input formControlName=\\\"detail\\\" type=\\\"text\\\" placeholder=\\\"Nyatakan Keadaan Jalan\\\"></ion-input>\\n              </ion-item>\\n              <ion-item>\\n                <ion-label position=\\\"floating\\\">Status</ion-label>\\n                <ion-input formControlName=\\\"status\\\" type=\\\"text\\\" placeholder=\\\"Nyatakan Status Jalan\\\"></ion-input>\\n              </ion-item>\\n              <ion-item>\\n                <ion-label position=\\\"floating\\\">Tarikh Mula</ion-label>\\n                <ion-input formControlName=\\\"start_date\\\" type=\\\"date\\\" placeholder=\\\"Pilih\\\"></ion-input>\\n              </ion-item>\\n              <ion-item>\\n                <ion-label position=\\\"floating\\\">Tarikh Akhir</ion-label>\\n                <ion-input formControlName=\\\"end_date\\\" type=\\\"date\\\" placeholder=\\\"Pilih\\\"></ion-input>\\n              </ion-item>\\n              <ion-item>\\n                <ion-label position=\\\"floating\\\">Pihak Bertanggungjawab</ion-label>\\n                <ion-input formControlName=\\\"response_party\\\" type=\\\"text\\\" placeholder=\\\"Nyatakan Pihak\\\"></ion-input>\\n              </ion-item>\\n            </div>\\n            <div padding>\\n              <ion-button size=\\\"medium\\\" (click)=\\\"submitJalan()\\\" [disabled]=\\\"jalanForm.invalid\\\" expand=\\\"block\\\">\\n                {{isEditMode ? 'Kemaskini':'Daftar'}}</ion-button>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </form>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}